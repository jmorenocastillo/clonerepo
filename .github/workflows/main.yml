name: Main Workflow - DinÃ¡mico

on: [push]

jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: Set job name
        id: name
        run: echo "job_name=${{ github.job }}" >> $GITHUB_OUTPUT

    # Llama al workflow reutilizable
    uses: ./.github/workflows/reusable.yml
    with:
      caller_job: ${{ steps.name.outputs.job_name }}

  job2:
    needs: job1
    runs-on: ubuntu-latest
    steps:
      - name: Set job name
        id: name
        run: echo "job_name=${{ github.job }}" >> $GITHUB_OUTPUT

    uses: ./.github/workflows/reusable.yml
    with:
      caller_job: ${{ steps.name.outputs.job_name }}

  job3:
    needs: job2
    runs-on: ubuntu-latest
    steps:
      - name: Set job name
        id: name
        run: echo "job_name=${{ github.job }}" >> $GITHUB_OUTPUT

    uses: ./.github/workflows/reusable.yml
    with:
      caller_job: ${{ steps.name.outputs.job_name }}